## [1.4.0] - 2025-07-27

### ğŸš€ Major Features

- **Modular Architecture**: Complete restructure from single-file to proper Go package organization:
  - `pkg/colors/`: ANSI color constants and management
  - `pkg/messages/`: Message types and definitions
  - `pkg/options/`: Options struct with fluent API
  - `pkg/formatter/`: Core formatting logic
  - `pkg/logger/`: Structured JSON logging system
  - `internal/tests/`: Test utilities
  - Organized test structure: unit, integration, and benchmarks

- **Structured JSON Logging**: Full logging system with configurable targets:
  - Default path: `/var/log/{binary_name}.log` (with fallback to current directory)
  - JSON format with timestamp, level, message, type, and binary name
  - Configurable log target: `SetLogTarget(path)`
  - Enable/disable logging: `SetLoggingEnabled(bool)`
  - Log file handle management: `CloseLogger()`

- **Log-Only Functions**: New API for logging without stdout output:
  - `LogSuccess()`, `LogError()`, `LogWarning()`, `LogInfo()`, `LogDebug()`, `LogCritical()`
  - `LogDelete()`, `LogUpdate()`, `LogInstall()`, `LogUpgrade()`, `LogEdit()`, `LogNew()`
  - `LogDownload()`, `LogUpload()`, `LogSync()`, `LogSearch()`
  - Formatted versions: `LogSuccessf()`, `LogErrorf()`, etc.

- **Icon System**: Smart icon display with Nerd Font support:
  - Automatic Nerd Font detection via environment variables (`TERM_PROGRAM`, `NERD_FONT_DETECTED`)
  - Fallback to regular Unicode icons when Nerd Fonts are not available
  - User control: `ForceNerdFont()`, `ForceRegularIcons()`, `DisableIcons()`
  - Integration with existing options: `WithIcon()`, `WithoutIcon()`

### ğŸ”§ Breaking Changes

- **Package Name**: Changed from `github.com/jonatas-sas/utify` to `github.com/jsas4coding/utify`
- **Go Version**: Bumped to Go 1.24.5
- **Test Structure**: Moved `internal/testutil/` to `internal/tests/` with package name change

### âœ¨ Improvements

- **Fixed Double Message Bug**: Eliminated duplicate message printing
- **Comprehensive Testing**: Added unit tests, integration tests, and benchmarks
- **Better Examples**: Organized examples into separate directories with dedicated demos
- **Enhanced Documentation**: Updated CLAUDE.md with new architecture details
- **Lint Configuration**: Fixed and simplified revive configuration

### ğŸ“¦ New API Functions

```go
// Logging configuration
SetLogTarget(path string) error
GetLogTarget() string
SetLoggingEnabled(enabled bool)
IsLoggingEnabled() bool
CloseLogger()

// Log-only functions (no stdout output)
LogSuccess(text string)
LogError(text string)
// ... and all other message types

// Formatted log-only functions
LogSuccessf(text string, args ...any)
LogErrorf(text string, args ...any)
// ... and all other message types

// Icon control functions
ForceNerdFont()
ForceRegularIcons()
DisableIcons()
GetIconType() IconType
SetIconType(IconType)
```

### ğŸ§ª Testing

- **Unit Tests**: Complete coverage for all packages
- **Integration Tests**: API compatibility and functionality verification
- **Benchmarks**: Performance testing for all core functions
- **Test Utilities**: Centralized test helpers for output capture

### ğŸ“ Project Structure

```
utify/
â”œâ”€â”€ pkg/                    # Core packages
â”‚   â”œâ”€â”€ colors/            # ANSI colors
â”‚   â”œâ”€â”€ messages/          # Message types
â”‚   â”œâ”€â”€ options/           # Configuration
â”‚   â”œâ”€â”€ formatter/         # Output formatting
â”‚   â””â”€â”€ logger/            # JSON logging
â”œâ”€â”€ internal/tests/        # Test utilities
â”œâ”€â”€ examples/              # Usage examples
â”‚   â”œâ”€â”€ basic/
â”‚   â”œâ”€â”€ colors/
â”‚   â”œâ”€â”€ callbacks/
â”‚   â””â”€â”€ logging-demo/
â””â”€â”€ tests/                 # Test suites
    â”œâ”€â”€ unit/
    â”œâ”€â”€ integration/
    â””â”€â”€ benchmarks/
```